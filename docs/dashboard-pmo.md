# Linkmap 대시보드 PMO 기획문서

> **작성일**: 2026-02-19
> **목적**: 대시보드 전체를 기획자(PMO) 관점에서 리뷰하고, 세션 간 컨텍스트를 유지하기 위한 기획문서
> **갱신 방침**: 이후 세션에서 점진적으로 업데이트

---

## 1. 현황 요약

### 1.1 전체 페이지 구조

| 영역 | 페이지 수 | 핵심 기능 | 인증 |
|------|----------|----------|------|
| 메인 대시보드 | 1 | 프로젝트 목록, 생성, 템플릿 | 필수 |
| 프로젝트 (8탭) | 8 | 서비스맵, 환경변수, 연결, 헬스체크 등 | 필수 |
| 서비스 카탈로그 | 3 | 카탈로그, 상세, 비교 | 선택 |
| 설정 | 2 | 연결계정, API 토큰 | 필수 |
| 프라이싱 | 1 | 요금제 안내 | 불필요 |
| 원클릭 배포 | 1 | 홈페이지 템플릿 배포 | 필수 |
| 법률 | 2 | 개인정보, 이용약관 | 불필요 |

### 1.2 프로젝트 내부 탭 구조 (8탭)

```
프로젝트 ─┬─ 대시보드      (레이어별 서비스 카드 + 메트릭스)
          ├─ 서비스 맵      (React Flow 시각화, 5개 뷰모드)
          ├─ 서비스 목록    (추가/제거, 설정 위자드)
          ├─ 환경변수       (CRUD, 암호화, .env 다운로드, GitHub 동기화)
          │   └─ 충돌 감지  (환경 간 불일치 탐지/해결)
          ├─ 상태 모니터링  (서비스별 헬스체크, 응답시간)
          ├─ 연결 관리      (서비스 간 관계 정의, 자동 연결)
          ├─ 감사 로그      (모든 변경 이력)
          └─ 설정           (프로젝트 정보, 팀, GitHub, 삭제)
```

### 1.3 데이터 레이어

| 레이어 | 규모 | 설명 |
|--------|------|------|
| TanStack Query | 14파일, 40+ 훅 | CRUD, 통합, 배포, 관리 |
| Zustand 스토어 | 5개 | locale, project, ui, dashboard, service-map |
| API 라우트 | 45+ 엔드포인트 | 10개 도메인 |
| TypeScript 타입 | 40+ 인터페이스 | `src/types/` |
| i18n | 80+ 키 | ko/en 95% 커버리지 |

### 1.4 핵심 기술 스택

- **Frontend**: Next.js 16 (App Router), React 19, Tailwind CSS, shadcn/ui
- **State**: TanStack Query (서버) + Zustand (클라이언트)
- **시각화**: React Flow (@xyflow/react), Framer Motion
- **Backend**: Supabase (Auth, DB, RLS), AES-256-GCM 암호화
- **배포**: Cloudflare Workers (@opennextjs/cloudflare)
- **통합**: GitHub OAuth, GitHub Secrets 동기화

---

## 2. PMO 리뷰 결과

### 2.A 강점 (Keep)

| # | 강점 | 상세 |
|---|------|------|
| 1 | **견고한 보안 체계** | AES-256-GCM 암호화, RLS + API 이중 방어, 감사 로그, Cloudflare Rate Limiting |
| 2 | **모듈화된 아키텍처** | 훅 기반 데이터 레이어, 명확한 컴포넌트 분리, QueryKey 팩토리 패턴 |
| 3 | **풍부한 시각화** | React Flow 서비스맵 (5개 뷰모드: 기본/계층/의존성/상태/보안), Framer Motion 애니메이션 |
| 4 | **GitHub 통합** | OAuth 연동, 시크릿 동기화, 리포 연결, 원클릭 배포 |
| 5 | **팀 협업** | 역할 기반 초대 (admin/editor/viewer), 팀 멤버 관리 |
| 6 | **환경변수 관리** | 3환경 분리 (dev/staging/prod), 충돌 감지, 벌크 임포트, .env 다운로드 |
| 7 | **원클릭 배포** | 6개 홈페이지 템플릿, GitHub Pages 자동 배포, 실시간 상태 폴링 |

### 2.B 개선 필요 (Improve)

#### B-1. 정보 구조 & 네비게이션

**문제점:**
- **프로젝트 8탭 과다** — 사용자가 어디에 뭐가 있는지 파악하기 어려움
  - "서비스 목록" vs "연결 관리"의 차이가 직관적이지 않음
  - "대시보드" 탭 안에 이미 서비스 카드가 있는데 "서비스 목록"이 별도 존재
- **"대시보드" 이중 구조** — 메인 대시보드 → 프로젝트 대시보드 네이밍 동일로 혼란
- **설정 페이지 접근성** — 프로젝트 설정 vs 글로벌 설정 진입점 불명확

**개선 방향:**
- 8탭 → 5~6탭 통합 (예: "서비스 목록" + "연결 관리" 통합)
- 프로젝트 내 "대시보드" → "개요(Overview)"로 리네이밍
- 글로벌 설정 진입점을 헤더에 명확히 배치

#### B-2. 온보딩 & 사용자 여정

**문제점:**
- **첫 방문 사용자 가이드 부재** — 프로젝트 생성 후 다음 단계가 불분명
  - "서비스 추가 → 환경변수 설정 → 연결 정의" 흐름이 안내되지 않음
- **빈 상태(Empty State) 품질 불균일** — Skeleton만 있는 곳, 안내 메시지가 있는 곳 혼재
- **템플릿 생성 후 흐름** — 템플릿으로 프로젝트 생성 후 어떤 설정이 필요한지 안내 없음

**개선 방향:**
- 온보딩 스텝퍼/체크리스트 구현 (프로젝트 대시보드에 진행률 표시)
- Empty State 컴포넌트 표준화 (CTA 버튼 + 설명 텍스트 + 일러스트)
- 템플릿 프로젝트 생성 직후 "다음 단계" 모달/가이드

#### B-3. 핵심 사용자 흐름 (Critical Path)

**문제점:**
- **환경변수 → GitHub 동기화** 연결이 매끄럽지 않음
  - 환경변수 페이지에 GitHub 시크릿 동기화 패널이 있지만 숨겨져 있음
- **서비스 추가 → 필수 환경변수 확인 → 값 입력** 이 3개 페이지에 걸쳐 있음
- **헬스체크 실패 시** 어떤 조치를 해야 하는지 가이드 없음

**개선 방향:**
- 환경변수 페이지에서 GitHub 동기화 상태를 항상 표시 (배지/아이콘)
- 서비스 추가 위자드에 "필수 환경변수 설정" 스텝 포함
- 헬스체크 실패 시 트러블슈팅 가이드 링크/인라인 도움말

#### B-4. 대시보드 메트릭스 & 인사이트

**문제점:**
- **프로젝트 대시보드** — 진행률(%)만 표시, 구체적 액션 아이템 없음
  - "3개 서비스에 환경변수 미설정" 같은 알림이 없음
- **메인 대시보드** — 프로젝트 카드에 미니 서비스맵은 예쁘지만 실용적 정보 부족
  - 최근 변경 사항, 팀 활동, 미완료 작업 등 없음

**개선 방향:**
- 프로젝트 대시보드에 "액션 필요" 섹션 추가 (미설정 환경변수, 헬스체크 실패 등)
- 메인 대시보드에 최근 활동 피드 (최근 변경, 팀 활동)
- 프로젝트 카드에 핵심 지표 (서비스 수, 헬스 상태, 최근 변경일)

#### B-5. UX 일관성

**문제점:**
- **로딩 상태** — Skeleton, Spinner, 텍스트만 등 불일치
- **에러 처리** — Toast vs 인라인 에러 vs Error Boundary 혼재
- **삭제 확인** — 2단계 확인, 단순 confirm, 없음 등 불일치
- **모바일 대응** — 서비스맵은 모바일에서 사실상 사용 불가 (React Flow 제한)

**개선 방향:**
- 로딩/에러/삭제 패턴 표준화 문서 작성 및 적용
- 서비스맵 모바일 대안 (리스트 뷰, 축소판)
- 모바일 네비게이션 최적화 (탭 → 드롭다운 또는 축소 메뉴)

#### B-6. 기능 완성도

**문제점:**
- **AI Config 관리** — 훅은 12+개 존재하나 실제 UI 페이지 미확인
- **커맨드 팔레트** — store에 `commandOpen` 있지만 실제 구현 미확인
- **알림 시스템 없음** — 팀원 초대, 헬스체크 실패 등 알림 전달 수단 없음
- **검색 없음** — 글로벌 검색 (프로젝트, 서비스, 환경변수 통합 검색) 미구현

**개선 방향:**
- AI Config UI 페이지 구현 (프로젝트 탭 또는 별도 섹션)
- 커맨드 팔레트 (Cmd+K) 구현 — 글로벌 검색 + 빠른 네비게이션
- 인앱 알림 시스템 (최소 벨 아이콘 + 드롭다운)
- 글로벌 검색은 커맨드 팔레트로 통합 가능

---

## 3. 사용자 여정 맵

### 3.1 현재 흐름 (As-Is)

```
[회원가입] → [메인 대시보드 (빈 상태)]
    ↓
[프로젝트 생성] → [프로젝트 대시보드 (빈 상태)]
    ↓ (사용자가 알아서 탐색)
[서비스 목록 탭] → [서비스 추가]
    ↓ (별도 페이지 이동)
[환경변수 탭] → [변수 추가]
    ↓ (패널 열기)
[GitHub 동기화] → [연결 설정]
    ↓ (탭 이동)
[서비스 맵] → [시각화 확인]
    ↓ (탭 이동)
[상태 모니터링] → [헬스체크 확인]
```

**문제**: 각 단계 사이에 가이드가 없고, 사용자가 스스로 다음 단계를 찾아야 함

### 3.2 이상적 흐름 (To-Be)

```
[회원가입] → [온보딩 투어 (3단계)]
    ↓
[메인 대시보드] → "첫 프로젝트 만들기" CTA
    ↓
[프로젝트 생성 위자드]
  Step 1: 기본 정보 → Step 2: 서비스 선택 → Step 3: 환경변수 설정
    ↓
[프로젝트 대시보드] → 체크리스트 위젯
  ☑ 프로젝트 생성 완료
  ☐ GitHub 연결 (선택)
  ☐ 환경변수 설정 (3개 미설정)
  ☐ 팀원 초대 (선택)
    ↓
[환경변수 설정] → 인라인 GitHub 동기화 상태 표시
    ↓
[서비스 맵 자동 업데이트] → 알림: "서비스맵이 업데이트되었습니다"
```

---

## 4. 리스크 매트릭스

| # | 리스크 | 영향도 | 발생 가능성 | 완화 방안 |
|---|--------|--------|------------|----------|
| 1 | 서비스맵 성능 (100개+ 서비스) | 높음 | 중간 | 가상화, 레이지 로딩, 페이지네이션 |
| 2 | 환경변수 메모리 캐싱 보안 | 높음 | 낮음 | TTL 캐시, 메모리 클리어 정책 |
| 3 | GitHub Rate Limit 초과 | 중간 | 중간 | 배치 처리, 캐싱, 사용자 알림 |
| 4 | 모바일 핵심 기능 제한 | 중간 | 높음 | 리스트 뷰 대안, 반응형 탭 |
| 5 | i18n 하드코딩 누락 | 낮음 | 중간 | i18n 린트 규칙, 코드 리뷰 체크리스트 |

---

## 5. 우선순위 개선 백로그

### P0 — 즉시 (현 스프린트) ✅ 완료

| # | 항목 | 효과 | 난이도 | 상태 |
|---|------|------|--------|------|
| 1 | 탭 리네이밍 + i18n 이관 | 혼란 해소 | 낮음 | ✅ 완료 |
| 2 | Empty State 표준화 (EmptyState 컴포넌트) | 사용자 이탈 방지 | 중간 | ✅ 완료 |
| 3 | confirm() → ConfirmDialog 마이그레이션 | UX 일관성 | 중간 | ✅ 완료 |

### P1 — 단기 (1~2주)

| # | 항목 | 효과 | 난이도 |
|---|------|------|--------|
| 4 | 온보딩 체크리스트 위젯 | 신규 사용자 활성화 | 중간 |
| 5 | 프로젝트 대시보드 "액션 필요" 섹션 | 사용자 리텐션 | 중간 |
| 6 | 프로젝트 탭 통합 (8→6) | 네비게이션 개선 | 높음 |
| 7 | 커맨드 팔레트 (Cmd+K) | 파워유저 생산성 | 중간 |

### P2 — 중기 (3~4주)

| # | 항목 | 효과 | 난이도 |
|---|------|------|--------|
| 8 | 인앱 알림 시스템 | 팀 협업 강화 | 높음 |
| 9 | 서비스맵 모바일 대안 뷰 | 모바일 사용성 | 중간 |
| 10 | AI Config UI 페이지 | 기능 완성 | 중간 |
| 11 | 메인 대시보드 활동 피드 | 정보 밀도 향상 | 중간 |

### P3 — 장기 (5주+)

| # | 항목 | 효과 | 난이도 |
|---|------|------|--------|
| 12 | 서비스 추가 위자드 (환경변수 통합) | 핵심 흐름 개선 | 높음 |
| 13 | 글로벌 검색 | 대규모 프로젝트 지원 | 높음 |
| 14 | 모바일 네비게이션 최적화 | 모바일 경험 | 중간 |
| 15 | 서비스맵 성능 최적화 (가상화) | 스케일 대응 | 높음 |

---

## 6. 변경 이력

| 날짜 | 변경 내용 | 작성자 |
|------|----------|--------|
| 2026-02-19 | 초안 작성 (Phase 1~3) | Claude Code |
| 2026-02-19 | P0 완료: 탭 i18n, EmptyState 표준화, ConfirmDialog 마이그레이션 | Claude Code |

---

> **다음 단계**: P1 항목부터 순차적으로 구현. 온보딩 체크리스트, 액션 필요 섹션, 탭 통합(8→6), 커맨드 팔레트 등.
